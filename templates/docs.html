{% extends "base.html" %}

{% block title %}Documentation - AgenticVisionForge{% endblock %}

{% block content %}
<div class="container mx-auto px-4">
    <!-- Header -->
    <div class="mb-6">
        <h2 class="text-2xl font-semibold text-gray-800 dark:text-gray-200">
            Documentation
        </h2>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
            Learn how to use AgenticVisionForge effectively
        </p>
    </div>

    <div class="grid gap-6 lg:grid-cols-4">
        <!-- Navigation Sidebar -->
        <div class="lg:col-span-1">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sticky top-4">
                <nav class="space-y-1">
                    <a href="#getting-started" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100">
                        Getting Started
                    </a>
                    <a href="#features" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100">
                        Features
                    </a>
                    <a href="#workflows" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100">
                        Working with Workflows
                    </a>
                    <a href="#models" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100">
                        Model Management
                    </a>
                    <a href="#troubleshooting" class="block px-3 py-2 text-sm font-medium rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100">
                        Troubleshooting
                    </a>
                </nav>
            </div>
        </div>

        <!-- Content -->
        <div class="lg:col-span-3">
            <div class="space-y-8">
                <!-- Getting Started -->
                <section id="getting-started" class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
                        Getting Started
                    </h3>
                    <div class="prose dark:prose-invert max-w-none">
                        <h4>Prerequisites</h4>
                        <ul>
                            <li>ComfyUI server running locally or remotely</li>
                            <li>Ollama installed with required models</li>
                            <li>Gemini API key (optional)</li>
                        </ul>

                        <h4>Quick Start</h4>
                        <ol>
                            <li>Configure your model settings in the Models page</li>
                            <li>Set up your workflow in ComfyUI and export it</li>
                            <li>Upload your workflow in the Workflows page</li>
                            <li>Start generating images with natural language prompts</li>
                        </ol>
                    </div>
                </section>

                <!-- Features -->
                <section id="features" class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
                        Features
                    </h3>
                    <div class="prose dark:prose-invert max-w-none">
                        <h4>Natural Language Image Generation</h4>
                        <p>
                            Use natural language to describe your desired image. The system will:
                        </p>
                        <ul>
                            <li>Analyze your goal using vision models</li>
                            <li>Refine prompts automatically</li>
                            <li>Generate multiple iterations</li>
                            <li>Provide feedback and suggestions</li>
                        </ul>

                        <h4>Workflow Management</h4>
                        <p>
                            Easily manage your ComfyUI workflows:
                        </p>
                        <ul>
                            <li>Import workflows from ComfyUI</li>
                            <li>Validate workflow compatibility</li>
                            <li>View node configurations</li>
                            <li>Export and share workflows</li>
                        </ul>

                        <h4>Model Integration</h4>
                        <p>
                            Seamless integration with multiple AI models:
                        </p>
                        <ul>
                            <li>ComfyUI for image generation</li>
                            <li>Ollama for vision analysis</li>
                            <li>Gemini for enhanced capabilities</li>
                        </ul>
                    </div>
                </section>

                <!-- Workflows -->
                <section id="workflows" class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
                        Working with Workflows
                    </h3>
                    <div class="prose dark:prose-invert max-w-none">
                        <h4>Creating Workflows</h4>
                        <p>
                            To create a compatible workflow in ComfyUI:
                        </p>
                        <ol>
                            <li>Set up your generation pipeline</li>
                            <li>Include required nodes (KSampler, VAE, etc.)</li>
                            <li>Export the workflow as JSON</li>
                            <li>Upload to AgenticVisionForge</li>
                        </ol>

                        <h4>Best Practices</h4>
                        <ul>
                            <li>Use meaningful node names</li>
                            <li>Keep workflows modular</li>
                            <li>Test workflows before uploading</li>
                            <li>Document node configurations</li>
                        </ul>
                    </div>
                </section>

                <!-- Models -->
                <section id="models" class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
                        Model Management
                    </h3>
                    <div class="prose dark:prose-invert max-w-none">
                        <h4>Required Models</h4>
                        <ul>
                            <li>Vision Analysis: llama3.2-vision</li>
                            <li>Prompt Refinement: deepseek-r1</li>
                            <li>Image Generation: (Your ComfyUI models)</li>
                        </ul>

                        <h4>Model Configuration</h4>
                        <p>
                            Configure your models in the Models page:
                        </p>
                        <ul>
                            <li>Set up Ollama endpoints</li>
                            <li>Configure Gemini API</li>
                            <li>Manage model versions</li>
                        </ul>
                    </div>
                </section>

                <!-- Troubleshooting -->
                <section id="troubleshooting" class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4">
                        Troubleshooting
                    </h3>
                    <div class="prose dark:prose-invert max-w-none">
                        <h4>Common Issues</h4>
                        <div class="space-y-4">
                            <div>
                                <h5 class="font-medium">Connection Errors</h5>
                                <ul>
                                    <li>Verify ComfyUI server is running</li>
                                    <li>Check Ollama service status</li>
                                    <li>Validate API endpoints</li>
                                </ul>
                            </div>

                            <div>
                                <h5 class="font-medium">Generation Failures</h5>
                                <ul>
                                    <li>Review workflow compatibility</li>
                                    <li>Check model availability</li>
                                    <li>Verify input parameters</li>
                                </ul>
                            </div>

                            <div>
                                <h5 class="font-medium">Performance Issues</h5>
                                <ul>
                                    <li>Monitor system resources</li>
                                    <li>Optimize workflow complexity</li>
                                    <li>Check GPU utilization</li>
                                </ul>
                            </div>
                        </div>

                        <h4>Getting Help</h4>
                        <p>
                            If you encounter issues:
                        </p>
                        <ul>
                            <li>Enable debug mode in settings</li>
                            <li>Check application logs</li>
                            <li>Review error messages</li>
                            <li>Contact support with details</li>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>
{% endblock %}
